# DataMiningPlugin

Описание подпроекта DataMiningPlugin (текущая поддиректория с файлами - `src/plugins/DataMining`).

Данный плагин является реализацией средств приобретения темпоральных знаний из БД.
В качестве внутреннего представления ПЗ используется библиотека `KnowledgeField`.

## Внутреннее устройство

Файл `datamining.h` содержит описание внешнего класса необходимого для игтеграции с планировщиком.
Файл `database_wrapper.h` содержит описание класса, предназначенного для взаимодействия с БД (`sqlite3`).
Файл `mainwindow.h` содержит описание класса, отвечающейго за интерфейс.
Файл `model_t` содержит описание класса, отвечающего за построение теморального леса и его преобразование в множество типов, объектов, правил, событий и интервалов (алгоритм описан в пояснительной записке).
Файлы `tree_t.h` и `tree_node_t.h` содержат описание классов темпорального дерева и его вершины. Алгоритм построения темпорального дерева описан в пояснительной записке.

## Ограничения на входные данные

Для извлечения знаний из БД необходимо привести БД к следующему виду:
1. Используемая СУБД - `sqlite3`
2. Таблица с описанием принадлежности примеров выборки конкретным классам (т.е. столбец с идентификаторами примеров и столбец с именами классов). Имена классов могут быть строковыми.
3. Таблица с описанием атрибутов примеров: столбец с идентификаторами, столбец с временными метками (числа от 0 до некоторого n, без пропусков), столбцы с значениями всех атрибутов при данной временной метке (значения должны быть целочисленными).

Пример дампа БД:
CREATE TABLE objects (id integer, температура integer, наличие_кашля integer, time integer);
INSERT INTO "objects" VALUES(0,358,0,0);
INSERT INTO "objects" VALUES(1,365,0,0);
INSERT INTO "objects" VALUES(2,357,1,0);
INSERT INTO "objects" VALUES(3,362,1,0);
INSERT INTO "objects" VALUES(4,370,0,0);
INSERT INTO "objects" VALUES(5,372,0,0);
INSERT INTO "objects" VALUES(6,371,1,0);
INSERT INTO "objects" VALUES(7,377,0,0);
INSERT INTO "objects" VALUES(0,363,1,1);
INSERT INTO "objects" VALUES(1,361,1,1);
INSERT INTO "objects" VALUES(2,363,1,1);
INSERT INTO "objects" VALUES(3,358,0,1);
INSERT INTO "objects" VALUES(4,373,0,1);
INSERT INTO "objects" VALUES(5,383,0,1);
INSERT INTO "objects" VALUES(6,382,1,1);
INSERT INTO "objects" VALUES(7,390,0,1);
CREATE TABLE classes (id integer, class string);
INSERT INTO "classes" VALUES(0,'Здоров');
INSERT INTO "classes" VALUES(4,'Болен');
INSERT INTO "classes" VALUES(1,'Здоров');
INSERT INTO "classes" VALUES(5,'Болен');
INSERT INTO "classes" VALUES(2,'Здоров');
INSERT INTO "classes" VALUES(6,'Болен');
INSERT INTO "classes" VALUES(3,'Здоров');
INSERT INTO "classes" VALUES(7,'Болен');

## Процесс взаимодействия с ПО

* В главном окне программы необходимо указать файл с БД (путь должен быть указан относительно директории запуска).
* Нажать открыть БД.
* Заполнить информацию о схеме БД(таблица со свойствами, столбец с идентификаторами примеров, столбец с временными метками (тактами), список названий столбцов со свойствами, таблица с классами).
* Ввести количество деревьев, которые необходимо добавить в лес (для непосредственного добавления необходимо нажать соответствующую кнопку). Данный этап можно повторять много раз.
* Указать названия файлов с сериализацией на ЯПЗ и внутреннем представлении библиотеки KnowledgeField. Имя файла с описанием фрагмента ПЗ в формате xml (пригодный для темпорального решателя) передаётся из планировщика.
* Нажать кнопку Finish в окне планировщика.
